<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Doctor Appointment Booking</title>
</head>
<body>
  <h2>Book an Appointment</h2>
  <form id="appointmentForm">
    <input type="text" id="name" placeholder="Your Name" required><br><br>
    <input type="email" id="email" placeholder="Your Email" required><br><br>
    <input type="date" id="date" required><br><br>
    <button type="submit">Book Appointment</button>
  </form>

  <p id="status"></p>

  <script type="module">
    import { db } from "./firebase.js";
    import { collection, addDoc } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

    const form = document.getElementById("appointmentForm");
    const status = document.getElementById("status");

    form.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value;
      const email = document.getElementById("email").value;
      const date = document.getElementById("date").value;

      try {
        await addDoc(collection(db, "appointments"), {
          name,
          email,
          date,
          createdAt: new Date()
        });
        status.innerText = "Appointment booked successfully!";
        form.reset();
      } catch (error) {
        status.innerText = "Error: " + error.message;
      }
    });
  </script>
</body>
</html>
textarea>


<button type="submit">Book Appointment</button>
</form>
<p id="status" style="margin-top:10px;color:green"></p>
</div>


<!-- Firebase (compat) libraries (simple for demo) -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>


<script>
// --- REPLACE this config with your Firebase Web app config ---
const firebaseConfig = {
apiKey: "YOUR_API_KEY",
authDomain: "YOUR_PROJECT.firebaseapp.com",
projectId: "YOUR_PROJECT_ID",
// ... rest of config
};
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();


const form = document.getElementById('appointmentForm');
const status = document.getElementById('status');


form.addEventListener('submit', async (e)=>{
e.preventDefault();
status.textContent = '';
const data = {
name: document.getElementById('name').value.trim(),
email: document.getElementById('email').value.trim(),
phone: document.getElementById('phone').value.trim(),
date: document.getElementById('date').value,
time: document.getElementById('time').value,
message: document.getElementById('message').value.trim(),
createdAt: firebase.firestore.FieldValue.serverTimestamp()
};


try{
await db.collection('appointments').add(data);
status.style.color = 'green';
status.textContent = 'Appointment request sent! We will contact you soon.';
form.reset();
}catch(err){
status.style.color = 'red';
status.textContent = 'Error: ' + err.message;
}
});
</script>
</body>
</html>
